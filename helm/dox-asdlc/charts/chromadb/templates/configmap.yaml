{{- if .Values.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "chromadb.fullname" . }}-config
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "chromadb.labels" . | nindent 4 }}
data:
  # ChromaDB configuration is primarily via environment variables,
  # but this ConfigMap can be extended for additional configuration needs.
  CHROMA_HOST: {{ .Values.config.host | quote }}
  CHROMA_PORT: {{ .Values.config.port | quote }}
  ANONYMIZED_TELEMETRY: {{ .Values.config.anonymizedTelemetry | quote }}
  LOG_LEVEL: {{ .Values.config.logLevel | quote }}
{{- end }}
